<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<div th:fragment="applicationDate-fragment" class="inlBlW100">

    <div th:text="#{applicationDate}" style="display: inline-block"></div>
    <div class="mT10" style="display: inline-block">
        <input readonly id="application-date-field" type="text" data-type="datepicker" style="width: 100px" th:attr="data-name='applicationDate'"
        class="input-param datepicker txtField ui-inputfield search-filter ui-autocomplete-input">
    </div>
    <div id="explanation-message" style="color: red" th:text="#{explanation_message}"></div>

    <script>
        //Activates datepicker after ajax call
        $(document).ready(function () {
            $("#application-date-field").datepicker({
                maxDate: "-3y"
            });
            let date = new Date();
            date.setFullYear(date.getFullYear()-4);
            $('#application-date-field').datepicker("setDate", date);

        });
    </script>
</div>
</html>